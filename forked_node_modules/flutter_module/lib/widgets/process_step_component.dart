import 'package:flutter_module/common/styles.dart';
import 'package:flutter/material.dart';

import '../common/colors.dart';
import '../common/widgets/images.dart';

class ProcessStepComponent extends StatelessWidget {
  const ProcessStepComponent({Key? key, this.step = 1}) : super(key: key);
  final int step;

  @override
  Widget build(BuildContext context) {
    return Column(
      children: [
        Stack(
          alignment: Alignment.center,
          children: [
            Row(
              crossAxisAlignment: CrossAxisAlignment.center,
              children: [
                const SizedBox(width: 66),
                Expanded(
                  child: Container(
                    height: 4,
                    color:
                        step > 1 ? UIColors.primaryColor : UIColors.lightGray,
                  ),
                ),
                Expanded(
                  child: Container(
                    height: 4,
                    color:
                        step > 2 ? UIColors.primaryColor : UIColors.lightGray,
                  ),
                ),
                const SizedBox(width: 66)
              ],
            ),
            Row(
              children: [
                const SizedBox(width: 60),
                _showStep1(),
                const Spacer(),
                _showStep2(),
                const Spacer(),
                _showStep3(),
                const SizedBox(width: 60)
              ],
            ),
          ],
        ),
        const SizedBox(height: 6,),
        Row(
          children: [
            const SizedBox(width: 32,),
            SizedBox(
              width: 80,
              child: Text(
                'Thông tin\ncá nhân',
                textAlign: TextAlign.center,
                style: step == 1
                    ? UITextStyle.semiBold.copyWith(
                        fontSize: 12,
                      )
                    : UITextStyle.regular.copyWith(
                        fontSize: 12,
                        color: UIColors.grayText,
                      ),
              ),
            ),
            const Spacer(),
            SizedBox(
              width: 80,
              child: Text(
                'Định danh\nkhách hàng',
                textAlign: TextAlign.center,
                style: step == 2
                    ? UITextStyle.semiBold.copyWith(
                        fontSize: 12,
                      )
                    : UITextStyle.regular.copyWith(
                        fontSize: 12,
                        color: UIColors.grayText,
                      ),
              ),
            ),
            const Spacer(),
            SizedBox(
              width: 80,
              child: Text(
                'Thông tin hồ\nsơ',
                textAlign: TextAlign.center,
                style: step == 3
                    ? UITextStyle.semiBold.copyWith(
                        fontSize: 12,
                      )
                    : UITextStyle.regular.copyWith(
                        fontSize: 12,
                        color: UIColors.grayText,
                      ),
              ),
            ),
            const SizedBox(width: 32,),
          ],
        )
      ],
    );
  }

  _showStep1() {
    if (step > 1) {
      return Container(
        decoration: BoxDecoration(
          color: UIColors.white,
          borderRadius: BorderRadius.circular(12),
        ),
        child: const AppImage.asset(
          asset: 'step_done_icon',
          width: 24,
          height: 24,
        ),
      );
    }
    return const AppImage.asset(
      asset: 'step_1_enable',
      width: 24,
      height: 24,
    );
  }

  _showStep2() {
    if (step > 2) {
      return Container(
        decoration: BoxDecoration(
          color: UIColors.white,
          borderRadius: BorderRadius.circular(12),
        ),
        child: const AppImage.asset(
          asset: 'step_done_icon',
          width: 24,
          height: 24,
        ),
      );
    }
    if (step == 2) {
      return const AppImage.asset(
        asset: 'step_2_enable',
        width: 24,
        height: 24,
      );
    }
    return Container(
      width: 24,
      height: 24,
      padding: const EdgeInsets.all(2),
      child: const AppImage.asset(
        asset: 'step_2_disable',
        width: 20,
        height: 20,
      ),
    );
  }

  _showStep3() {
    if (step > 3) {
      return Container(
        decoration: BoxDecoration(
          color: UIColors.white,
          borderRadius: BorderRadius.circular(12),
        ),
        child: const AppImage.asset(
          asset: 'step_done_icon',
          width: 24,
          height: 24,
        ),
      );
    }
    if (step == 3) {
      return const AppImage.asset(
        asset: 'step_3_enable',
        width: 24,
        height: 24,
      );
    }
    return Container(
      width: 24,
      height: 24,
      padding: const EdgeInsets.all(2),
      child: const AppImage.asset(
        asset: 'step_3_disable',
        width: 20,
        height: 20,
      ),
    );
  }
}
