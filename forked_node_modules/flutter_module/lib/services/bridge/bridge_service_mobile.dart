// import 'dart:convert';
// import 'dart:io';
//
// import 'package:flutter/foundation.dart';
// import 'package:flutter/services.dart';
// import 'package:flutter_module/common/constants.dart';
//
// import '../../common/enum/web_type.dart';
// import '../../di/get_it.dart';
// import '../../env_config.dart';
// import '../../features/app_cubit.dart';
// import 'bridge_service.dart';
//
// BridgeService getInstance() => BridgeServiceMobile.instance;
//
// class BridgeServiceMobile implements BridgeService {
//   BridgeServiceMobile._();
//
//   static final instance = BridgeServiceMobile._();
//
//   static const MethodChannel _channel = MethodChannel("mfast/flutter");
//
//   @override
//   Future<void> init({WebType webType = WebType.landingPage}) async {
//     _listenFromMFast();
//   }
//
//   _listenFromMFast() {
//     _channel.setMethodCallHandler((call) async {
//       if (call.method == 'initArgs') {
//         getItInstance.get<AppCubit>().init(call.arguments);
//       }
//       if (call.method == 'deeplink') {
//         getItInstance.get<AppCubit>().deepLink(call.arguments);
//       }
//     });
//     if (false) {
//       final arguments = jsonEncode({
//         // "initial_path": RoutePath.mtrade,
//         "deep_link_base_url": "mfastmobiledev",
//         "base_url": "https://appay-rc.cloudcms.vn",
//         "api_username": "dgtapp",
//         "api_password": "xuka1997",
//         "los_url": "https://us-west1-dgp-los-dev.cloudfunctions.net/",
//         "firebase_function_url": "https://us-central1-mfast-dev-623d0.cloudfunctions.net",
//         "web_url": "https://mtrade-rc.onlinelending.vn",
//         "los_api_key":
//             "eyJ4LWhhc3VyYS1kZWZhdWx0LXJvbGUiOiJhZG1pbiIsIngtaGFzdXJhLWFsbG93ZWQtcm9sZXMiOlsiYWRtaW4iXSwiYWxnIjoiSFMyNTYifQ.eyJwYXJ0bmVyIjoiTVBMIiwiaWF0IjoxNTE2MjM5MDIyfQ.uYUuGAyQY2oXHuDZIZUxhbxMXhFafIZfxrGuwBCh1ME",
//         "ekyc_sdk_url": "https://mid.mfast.vn/",
//         "ekyc_sdk_token": "54d16b0dfc5b49149c8dbe638bc26197",
//         "chat_support_url": "http://support-rc.appay.vn/scp",
//         "android_google_api_key": "AIzaSyAmd5tJtN6eP-95B1Rb6pUwTu8l1QoWu-k",
//         "ios_google_api_key": "AIzaSyDnuJjwZlDYChN57Lit45mh_heGUU-ozZQ",
//         "cxgenie_agent_id": "9432628b-87a1-49e1-b38b-ba41c0fdcbd9",
//         "default_param": {
//           "mobileApp": "mfast",
//           "os": Platform.isIOS ? "ios" : "android",
//           "appVersion": "3.0.1",
//           "accessToken": "29723a59386d5bf6d2f2790a9d0fc07a8bc1e576",
//         },
//         "app_info": {
//           "ctvUserMFastUrl": "https://appay.cloudcms.vn/mfast/Identification_contract/",
//           "useGenieChat": false,
//           "useFlutterChat": true,
//           "limitMemberGroupChat": 3,
//           "limitUploadMediaSize": 2,
//           "systemThreadId": ["-NdYaa00sg7Z0KoYoGXi", "-NiDskljphHo_t3skz-C","-NfzD29af5u9xYejCZdM"],
//         },
//         // "user_metadata": {
//         //   "userId": "2049610768",
//         //   "fullName": "VietTestChat1",
//         //   "phone": "0911223301",
//         //   "email": "dev001@yopmail.com",
//         //   "avatar": AppConstants.avatar,
//         //   "nickname": "VietTestChat1",
//         // },
//         // "firebase_auth_token":
//         //     "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJodHRwczovL2lkZW50aXR5dG9vbGtpdC5nb29nbGVhcGlzLmNvbS9nb29nbGUuaWRlbnRpdHkuaWRlbnRpdHl0b29sa2l0LnYxLklkZW50aXR5VG9vbGtpdCIsImlhdCI6MTY5NjQ5MDUzNiwiZXhwIjoxNjk2NDk0MTM2LCJpc3MiOiJmaXJlYmFzZS1hZG1pbnNkay05MWZrdkBtZmFzdC1kZXYtNjIzZDAuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLCJzdWIiOiJmaXJlYmFzZS1hZG1pbnNkay05MWZrdkBtZmFzdC1kZXYtNjIzZDAuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLCJ1aWQiOiIyMDQ5NjEwNzY4In0.BxhJ1VwY9RmInmahWCbRBT3lukaYYo__MUxPpr8xWghMd1cD030olIvBlmmu9DHfIBThe8OqO4vWxR1OLiR2bdM9jlCI2zyb9VHFHHgiWa1kFU_VpZlYsGIIF39xTI_9lMFqvqv3CP0K-pSy9lrTUCqrPmY0uKWhUjTcO6ALvxdsiLyfnKkJPjSSGfoTaTxM9Gw5LMQ3o9Mjkx6rufGqNm8OB9g4-89QAkw3pHuwLwXhYBcqWy3_8wPnuupIvD8MMdTKp8QmdJ32xafY_d3LgzRuUUCqc3jBN1uIRXlKxjN9IbdTyF5yDYnwJGDuxBpc0IImII_FuqJuszxWMsV0Nw",
//         // "user_metadata": {
//         //   "userId": "2049610769",
//         //   "fullName": "VietTestChat2",
//         //   "phone": "0911223302",
//         //   "email": "dev002@yopmail.com",
//         //   "avatar": AppConstants.avatarMentor,
//         //   "nickname": "VietTestChat2",
//         // },
//         // "firebase_auth_token":
//         //     "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJodHRwczovL2lkZW50aXR5dG9vbGtpdC5nb29nbGVhcGlzLmNvbS9nb29nbGUuaWRlbnRpdHkuaWRlbnRpdHl0b29sa2l0LnYxLklkZW50aXR5VG9vbGtpdCIsImlhdCI6MTY5ODA0Njc4OSwiZXhwIjoxNjk4MDUwMzg5LCJpc3MiOiJmaXJlYmFzZS1hZG1pbnNkay05MWZrdkBtZmFzdC1kZXYtNjIzZDAuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLCJzdWIiOiJmaXJlYmFzZS1hZG1pbnNkay05MWZrdkBtZmFzdC1kZXYtNjIzZDAuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLCJ1aWQiOiIyMDQ5NjEwNzY5In0.DDgDkcN116JrcymY4524Kq23FzlgqyOEHIARseTgjQA630YUuSn5Hi8K23hqGi8b_RiIUsXo3UAiJAZCvttONaQWatRx8wJh8jW79adgdBa1aBgM7wZIfleSNu3Jn8UBoVsLDQNNZ-YgSZUtHmPhGSqjUNNtINQFTqr0nDk9ORljIWjHUcXVffYY77iJ4fs9c1GLdQIbEiiUtno3p1cHfljlepbd28mbwVHH1IsjnD4AZ26HJcYF6uEKLBvvTrupPo3viwgIEl32q0CbQgqUuMn7IHAhlIiiefgaR3sa-E7RY_AFrIyYK4kieqDoplxLEkHk6lys7ShehXVTU5jOHA",
//         "user_metadata": {
//           "userId": "1240469574",
//           "fullName": "nhapnhap123456789",
//           "phone": "0122222222",
//           "email": "nhapnhap@yopmail.com",
//           "avatar": AppConstants.avatarMentor,
//           "nickname": "nhapnhap123456789",
//         },
//         "firebase_auth_token":
//             "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJodHRwczovL2lkZW50aXR5dG9vbGtpdC5nb29nbGVhcGlzLmNvbS9nb29nbGUuaWRlbnRpdHkuaWRlbnRpdHl0b29sa2l0LnYxLklkZW50aXR5VG9vbGtpdCIsImlhdCI6MTY5ODc0NzI5NiwiZXhwIjoxNjk4NzUwODk2LCJpc3MiOiJmaXJlYmFzZS1hZG1pbnNkay05MWZrdkBtZmFzdC1kZXYtNjIzZDAuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLCJzdWIiOiJmaXJlYmFzZS1hZG1pbnNkay05MWZrdkBtZmFzdC1kZXYtNjIzZDAuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLCJ1aWQiOiIyMDQ5NjEwMDYwIn0.fqwzcclB-0nyuqdXnA-RcRs-Yv_gLVhKJwrvKcPZdeFaiafiEuc3rinhZED9D2OSQcgIrbuueQ0F3xL1k38F4nzavuZprUXThnh6Ym44GuweRFJFvCXsAoh9XdfalILElwnxvXxiRU4aYECli23MDchuvkpfj-n7F1U-eMNm8_Ef4lo1470wNjLuWNEw2u4-gyGvkYb_8iDAZuaCL_mhkcTla5Av8XGKjnwRSvwJGqopSEIAqXjB2QQ6PLrc3sws_dqYmh32gWiPOfpICtccXfM51CTZoPi5ew5jiWR2bvxPKfJ2psTcz7fRubMdXHdwVOeTMhqbGRaZmMS8SZRMSQ",
//         // "chat_user_id": "2049610768",
//         // "thread_id": "-NdiqmX-_XtajxtLIPda",
//         // "chat_user_id": "2049610768",
//         // "thread_id": "-NdiqmX-_XtajxtLIPda",
//         "package": EnvConfig.instance.arguments['package'],
//         // "filter": "{\"productGroup\": [\"all\"]}",
//         // "route_path": "/landing_setup?source=daa",
//         // "route_path": "/landing_setup?index_tab=1",
//         // "route_path": "/mtrade?index_tab=3",
//         // "route_path": "/mtrade_pay_later?orders=%5B%7B%22sku%22%3A%222VINHKHANG003IIPH020200%22%2C%22quantity%22%3A1%7D%5D%26selectedLoanSchemeID=149%26selectedDownPaymentPercent=30%26selectedLoanTenor=6%26selectedJoinInsurance=10",
//         // "route_path": "/webview?title=${Uri.encodeComponent("eCom Affiliate")}&url=${Uri.encodeComponent(Uri.encodeComponent("https://appay-rc.cloudcms.vn/bank_account/ecom_affiliate"))}",
//         // "route_path": "/webview?title=${Uri.encodeComponent("Thanh to√°n")}&url=${Uri.encodeComponent(Uri.encodeComponent("https://appay-rc.cloudcms.vn/payment?orderID=06072023lTwcsI"))}",
//         // "route_path": RoutePath.mFastUpdatePhoneNumber,
//       });
//       getItInstance.get<AppCubit>().init(arguments);
//     } else {
//       getItInstance.get<AppCubit>().init(jsonEncode(EnvConfig.instance.arguments));
//     }
//   }
//
//   @override
//   void exit() {
//     _channel.invokeMethod("exit");
//   }
//
//   @override
//   void sendEvent(String eventName, {String? data}) {
//     _channel.invokeMethod(eventName, data);
//   }
// }
