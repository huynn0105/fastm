import 'package:flutter_module/services/api/income/payload/export_statement_payload.dart';
import 'package:flutter_module/services/api/income/payload/get_statistice_income_payload.dart';
import 'package:flutter_module/services/api/income/payload/get_withdraw_fee_payload.dart';
import 'package:flutter_module/services/api/income/payload/history_income_payload.dart';
import 'package:flutter_module/services/api/income/payload/send_withdraw_otp_payload.dart';
import 'package:flutter_module/services/api/income/payload/submit_withdraw_payload.dart';

import '../../base/base_endpoint.dart';
import '../../base/method_request.dart';

abstract class IncomeEndpointProtocol {
  EndpointType getStatisticeIncome(GetStatisticeIncomePayload payload);

  EndpointType exportStatement(ExportStatementPayload payload);

  EndpointType getHistoryIncome(GetHistoryIncomePayload payload);

  EndpointType getWithdrawInfo();

  EndpointType checkWithdrawInfo();
  
  EndpointType getWithdrawFee(GetWithdrawFeePayload payload);

  EndpointType sendWithdrawOTP(SendWithdrawOTPPayload payload);

  EndpointType submitWithdraw(SubmitWithdrawPayload payload);

}

class IncomeEndpoint implements IncomeEndpointProtocol {
  @override
  EndpointType getStatisticeIncome(GetStatisticeIncomePayload payload) {
    final endpoint = EndpointType(
      path: "/mfast_api_v1/personal/statistic_money",
      httpMethod: HttpMethod.get,
      parameters: payload.toJson(),
      header: DefaultHeader.instance.addDefaultHeader(),
    );
    return endpoint;
  }

  @override
  EndpointType exportStatement(ExportStatementPayload payload) {
    final endpoint = EndpointType(
      path: "/mfast_api_v1/withdrawal/export_statement",
      httpMethod: HttpMethod.post,
      parameters: payload.toJson(),
      header: DefaultHeader.instance.addDefaultHeader(),
    );
    return endpoint;
  }

  @override
  EndpointType getHistoryIncome(GetHistoryIncomePayload payload) {
    final endpoint = EndpointType(
      path: "/mfast_api_v1/withdrawal/history",
      httpMethod: HttpMethod.get,
      parameters: payload.toJson(),
      header: DefaultHeader.instance.addDefaultHeader(),
    );
    return endpoint;
  }

  @override
  EndpointType getWithdrawInfo() {
    final endpoint = EndpointType(
      path: "/mfast_api_v1/withdrawal/withdrawal_info",
      httpMethod: HttpMethod.get,
      parameters: {},
      header: DefaultHeader.instance.addDefaultHeader(),
    );
    return endpoint;
  }

  @override
  EndpointType checkWithdrawInfo() {
    final endpoint = EndpointType(
      path: "/mfast_api_v1/withdrawal/withdrawal_validate",
      httpMethod: HttpMethod.get,
      parameters: {},
      header: DefaultHeader.instance.addDefaultHeader(),
    );
    return endpoint;
  }

  @override
  EndpointType sendWithdrawOTP(SendWithdrawOTPPayload payload) {
    final endpoint = EndpointType(
      path: "/mfast_api_v1/withdrawal/send_otp",
      httpMethod: HttpMethod.post,
      parameters: payload.toJson(),
      header: DefaultHeader.instance.addDefaultHeader(),
    );
    return endpoint;
  }

  @override
  EndpointType submitWithdraw(SubmitWithdrawPayload payload) {
    final endpoint = EndpointType(
      path: "/mfast_api_v1/withdrawal/process",
      httpMethod: HttpMethod.post,
      parameters: payload.toJson(),
      header: DefaultHeader.instance.addDefaultHeader(),
    );
    return endpoint;
  }

  @override
  EndpointType getWithdrawFee(GetWithdrawFeePayload payload) {
    final endpoint = EndpointType(
      path: "/mfast_api_v1/withdrawal/get_fee",
      httpMethod: HttpMethod.post,
      parameters: payload.toJson(),
      header: DefaultHeader.instance.addDefaultHeader(),
    );
    return endpoint;
  }
}
