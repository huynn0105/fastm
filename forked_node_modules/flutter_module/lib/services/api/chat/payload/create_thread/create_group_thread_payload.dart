// ignore_for_file: public_member_api_docs, sort_constructors_first
import 'package:flutter_module/models/chat/thread/chat_thread_model.dart';
import 'package:flutter_module/services/firebase/firebase_database/firebase_database_util.dart';

class CreateGroupThreadPayload {
  List<ThreadUserDetail> users;
  String title;
  String photoImage;

  CreateGroupThreadPayload({
    this.users = const [],
    this.title = '',
    this.photoImage = '',
  });

  Map<String, dynamic> toJson() {
    final Map<String, dynamic> data = <String, dynamic>{};
    for (ThreadUserDetail user in (users)) {
      data["user"][FirebaseDatabaseUtil.getFirebaseUserID(userID: user.uid)]["uid"] = user.uid;
      data["usersDetails"][FirebaseDatabaseUtil.getFirebaseUserID(userID: user.uid)] = user.toJson();
    }
    return data;
  }

  CreateGroupThreadPayload copyWith({
    List<ThreadUserDetail>? users,
    String? title,
    String? photoImage,
  }) {
    return CreateGroupThreadPayload(
      users: users ?? this.users,
      title: title ?? this.title,
      photoImage: photoImage ?? this.photoImage,
    );
  }
}
