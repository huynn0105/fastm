import 'package:ekyc/common/utils/text_util.dart';
import 'package:flutter_module/models/mtrade/promotion/mtrade_promotion_data_model.dart';

/// customer_info : {"name":"NGUYỄN ĐỨC THỊNH","phone":"0943832342","address":"146 coongj hoa","ward_code":"12","district_code":"12","province_code":"12"}
/// merchant_code : "VINHKHANG"
/// order_items : [{"sku":"A95.1","quantity":1}]

class MTradePayNowOrderPayload {
  MTradePayNowOrderPayload({
    this.customerInfo,
    this.orderItems,
    this.redirectLink,
    this.invoiceInfo,
    this.timeDeliveries,
    this.saleCode,
    this.channelCode,
    this.paymentMethod,
  });

  MTradePayNowOrderPayload.fromJson(dynamic json) {
    customerInfo = json['customer_info'] != null ? CustomerInfo.fromJson(json['customer_info']) : null;
    if (json['order_items'] != null) {
      orderItems = [];
      json['order_items'].forEach((v) {
        orderItems?.add(OrderItems.fromJson(v));
      });
    }
    redirectLink = json['redirect_link'];
    invoiceInfo = json['invoice_info'] != null ? InvoiceInfo.fromJson(json['invoice_info']) : null;
    timeDeliveries = json['time_deliveries'] != null ? json['time_deliveries'].cast<int>() : [];
    saleCode = json['sale_code'];
    channelCode = json['channel_code'];
    paymentMethod = json['payment_method'];
  }

  CustomerInfo? customerInfo;
  List<OrderItems>? orderItems;
  String? redirectLink;
  InvoiceInfo? invoiceInfo;
  List<int>? timeDeliveries;
  String? saleCode;
  String? channelCode;
  String? paymentMethod;

  Map<String, dynamic> toJson() {
    final map = <String, dynamic>{};
    if (customerInfo != null) {
      map['customer_info'] = customerInfo?.toJson();
    }
    if (orderItems != null) {
      map['order_items'] = orderItems?.map((v) => v.toJson()).toList();
    }
    map['redirect_link'] = redirectLink;
    if (invoiceInfo != null) {
      map['invoice_info'] = invoiceInfo?.toJson();
    }
    if (timeDeliveries != null) {
      map['time_deliveries'] = timeDeliveries;
    }
    if (saleCode != null) {
      map['sale_code'] = saleCode;
    }
    if (channelCode != null) {
      map['channel_code'] = channelCode;
    }
    if (paymentMethod != null) {
      map['payment_method'] = paymentMethod;
    }
    return map;
  }
}

/// sku : "A95.1"
/// quantity : 1
/// merchant_code : "VINHKHANG"

class OrderItems {
  OrderItems({
    this.sku,
    this.quantity,
    this.merchantCode,
    this.promotions,
    this.productPriceItemId,
    this.productPriceId,
  });

  OrderItems.fromJson(dynamic json) {
    sku = json['sku'];
    quantity = json['quantity'];
    merchantCode = json['merchant_code'];
    if (json['promotions'] != null) {
      promotions = [];
      json['order_items'].forEach((v) {
        promotions?.add(OmsPromotionCodes.fromJson(v));
      });
    }
    productPriceItemId = json['product_price_item_id'];
    productPriceId = json['product_price_id'];
  }

  String? sku;
  String? merchantCode;
  int? quantity;
  List<OmsPromotionCodes>? promotions;
  String? productPriceItemId;
  String? productPriceId;

  Map<String, dynamic> toJson() {
    final map = <String, dynamic>{};
    map['sku'] = sku;
    map['merchant_code'] = merchantCode;
    map['quantity'] = quantity;
    if (promotions != null) {
      map['promotions'] = promotions?.map((v) => v.toJson()).toList();
    }
    if (TextUtils.isNotEmpty(productPriceItemId)) map['product_price_item_id'] = productPriceItemId;
    if (TextUtils.isNotEmpty(productPriceId)) map['product_price_id'] = productPriceId;
    return map;
  }

  Map<String, dynamic> toGetPaymentMethodJson() {
    final map = <String, dynamic>{};
    map['sku'] = sku;
    map['quantity'] = quantity;
    return map;
  }
}

/// name : "NGUYỄN ĐỨC THỊNH"
/// phone : "0943832342"
/// address : "146 coongj hoa"
/// ward_code : "12"
/// district_code : "12"
/// province_code : "12"

class CustomerInfo {
  CustomerInfo({
    this.name,
    this.phone,
    this.address,
    this.wardCode,
    this.districtCode,
    this.provinceCode,
    this.district,
    this.province,
    this.ward,
    this.idNumber,
  });

  CustomerInfo.fromJson(dynamic json) {
    name = json['name'];
    phone = json['phone'];
    address = json['address'];
    wardCode = json['ward_code'];
    districtCode = json['district_code'];
    provinceCode = json['province_code'];
    district = json['district'];
    province = json['province'];
    ward = json['ward'];
    idNumber = json['idNumber'];
  }

  String? name;
  String? phone;
  String? address;
  String? wardCode;
  String? districtCode;
  String? provinceCode;
  String? district;
  String? province;
  String? ward;
  String? idNumber;

  Map<String, dynamic> toJson() {
    final map = <String, dynamic>{};
    map['name'] = name;
    map['phone'] = phone;
    map['address'] = address;
    map['ward_code'] = wardCode;
    map['district_code'] = districtCode;
    map['province_code'] = provinceCode;
    return map;
  }

  Map<String, dynamic> toJsonOrderProcessState() {
    final map = <String, dynamic>{};
    map['name'] = name;
    map['phone'] = phone;
    map['address'] = address;
    map['ward_code'] = wardCode;
    map['district_code'] = districtCode;
    map['province_code'] = provinceCode;
    map['district'] = district;
    map['province'] = province;
    map['ward'] = ward;
    map['idNumber'] = idNumber;
    return map;
  }
}

class InvoiceInfo {
  InvoiceInfo({
    this.name,
    this.tax,
    this.address,
    this.email,
  });

  InvoiceInfo.fromJson(dynamic json) {
    name = json['unit_name'];
    tax = json['tax_code'];
    address = json['address'];
    email = json['ward_code'];
  }

  String? name;
  String? tax;
  String? address;
  String? email;

  Map<String, dynamic> toJson() {
    final map = <String, dynamic>{};
    map['unit_name'] = name;
    map['tax_code'] = tax;
    map['address'] = address;
    map['email'] = email;
    return map;
  }
}
