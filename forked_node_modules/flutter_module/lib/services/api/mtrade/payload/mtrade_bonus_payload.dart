import 'package:flutter_module/common/constants.dart';

import '../../../../common/utils/text_util.dart';

/// month : 3
/// year : 2023
/// filter_text : ""
/// page : 1
/// per_page : 10
/// filter_level : ""

class MTradeBonusPayload {
  MTradeBonusPayload({
    this.month,
    this.year,
    this.filterText,
    this.page = 1,
    this.perPage = AppConstants.maxPerPage,
    this.filterLevel,
    this.orderFilter,
  });

  MTradeBonusPayload.fromJson(dynamic json) {
    month = json['month'];
    year = json['year'];
    filterText = json['filter_text'];
    page = json['page'];
    perPage = json['per_page'];
    filterLevel = json['filter_level'];
  }

  int? month;
  int? year;
  String? filterText;
  int? page;
  int? perPage;
  String? filterLevel;
  Map<String, dynamic>? orderFilter;

  Map<String, dynamic> toJson() {
    final map = <String, dynamic>{};
    if (filterText?.isNotEmpty == true) {
      map['filter_text'] = filterText;
    }
    map['page'] = page;
    map['per_page'] = perPage;
    if (filterLevel?.isNotEmpty == true) {
      map['filter_level'] = filterLevel;
    }
    if (orderFilter?.isNotEmpty == true) {
      map.addAll(orderFilter!.map((key, value) => MapEntry('$key[]', value)));
    }
    return map;
  }

  Map<String, dynamic> toMTradeDirectBonusJson() {
    final map = <String, dynamic>{};
    if (orderFilter?.isNotEmpty == true) {
      map.addAll(orderFilter!.map((key, value) => MapEntry('$key[]', value)));
    }
    return map;
  }

  Map<String, dynamic> toMTradeIndirectBonusJson() {
    return toJson();
  }

  MTradeBonusPayload copyWith({
    int? month,
    int? year,
    String? filterText,
    int? page,
    int? perPage,
    String? filterLevel,
    Map<String, dynamic>? orderFilter,
  }) {
    return MTradeBonusPayload(
      month: month ?? this.month,
      year: year ?? this.year,
      filterText: filterText ?? this.filterText,
      page: page ?? this.page,
      perPage: perPage ?? this.perPage,
      filterLevel: filterLevel ?? this.filterLevel,
      orderFilter: orderFilter ?? this.orderFilter,
    );
  }
}
