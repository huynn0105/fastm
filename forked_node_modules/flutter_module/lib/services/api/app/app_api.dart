import 'package:flutter_module/models/mfast/app_info/mfast_app_info_model.dart';
import 'package:flutter_module/services/api/app/app_endpoint.dart';

import '../../../models/base_model.dart';
import '../../base/base_response.dart';
import '../api_service.dart';

abstract class AppApi {
  Future<BaseModel<MFastAppInfoModel>> getAppInfo();
}

class AppApiImpl implements AppApi {
  @override
  Future<BaseModel<MFastAppInfoModel>> getAppInfo() async {
    BaseResponse apiResponse = await APIService.instance.requestData(
      AppEndpoint().getAppInfo(),
    );
    if (apiResponse.status == true) {
      return BaseModel<MFastAppInfoModel>(
        status: true,
        data: MFastAppInfoModel.fromJson(apiResponse.data),
      );
    } else {
      return BaseModel<MFastAppInfoModel>(
        status: false,
        errorCode: apiResponse.errorCode,
        errorMessage: apiResponse.errorMessage,
      );
    }
  }
}
