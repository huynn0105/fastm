import 'package:auto_route/auto_route.dart';
import 'package:flutter/material.dart';
import 'package:flutter_module/common/constants.dart';

import '../common/bottom_sheet/views/bottom_sheet_view.dart';
import '../common/colors.dart';
import 'routes.gr.dart';

Route<T> routeWebViewBottomSheetBuilder<T>(BuildContext context, Widget child, AutoRoutePage<T> page) {
  var title = '';
  var args = page.arguments;

  if (args is WebViewRouteArgs) {
    title = args.title ?? '';
  } else if (args is WebViewBottomSheetRouteArgs) {
    title = args.title ?? '';
  } else if (args is BottomSheetRegisteredEventRouteArgs) {
    title = args.title;
  } else if (args is WebViewPaymentMethodBottomSheetRouteArgs) {
    title = args.title;
  }

  return ModalBottomSheetRoute(
    settings: page,
    enableDrag: false,
    backgroundColor: Colors.transparent,
    modalBarrierColor: UIColors.blurBackground,
    builder: (context) => BottomSheetView(
      title: title,
      child: FractionallySizedBox(
        heightFactor: AppConstants.maxScreenRatio,
        child: child,
      ),
    ),
    isScrollControlled: true,
  );
}

Route<T> routeDetailProductSheetBuilder<T>(BuildContext context, Widget child, AutoRoutePage<T> page) {
  return ModalBottomSheetRoute(
    settings: page,
    enableDrag: false,
    backgroundColor: Colors.transparent,
    modalBarrierColor: UIColors.blurBackground,
    builder: (context) => BottomSheetView(
      title: "Thông tin sản phẩm",
      child: FractionallySizedBox(
        heightFactor: AppConstants.maxScreenRatio,
        child: child,
      ),
    ),
    isScrollControlled: true,
  );
}
