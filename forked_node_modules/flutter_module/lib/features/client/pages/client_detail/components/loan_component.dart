import 'package:flutter/material.dart';
import 'package:flutter_module/common/utils/datetime_util.dart';

import '../../../../../../../common/colors.dart';
import '../../../../../../../common/widgets/buttons.dart';
import '../../../../../../../common/widgets/images.dart';
import '../widgets/info_item.dart';

class LoanComponent extends StatelessWidget {
  const LoanComponent({
    Key? key,
    required this.loanFromText,
    required this.workingTime,
    required this.note,
    this.onNoteEditTap,
    this.showNoteEditButton = true,
  }) : super(key: key);

  final String loanFromText;
  final String workingTime;
  final String note;
  final Function()? onNoteEditTap;
  final bool showNoteEditButton;

  @override
  Widget build(BuildContext context) {
    return Column(
      mainAxisSize: MainAxisSize.min,
      children: [
        InfoItem(
          title: loanFromText,
          asset: 'ic_search_outline',
        ),
        const SizedBox(
          height: 8,
        ),
        InfoItem(
          title: 'Từ ${DateTimeUtil.getNumberDayBetween(workingTime)}',
          asset: 'ic_time_outline',
        ),
        const SizedBox(
          height: 8,
        ),
        Row(
          children: [
            Expanded(
              child: InfoItem(
                title: note,
                fallbackTitle: 'Chú thích về khách hàng này',
                asset: 'ic_info_outline',
                titleColor: UIColors.defaultText,
                isMultiLine: true,
              ),
            ),
            if (showNoteEditButton) ...[
              const SizedBox(
                width: 8,
              ),
              SplashButton(
                onTap: onNoteEditTap,
                child: const AppImage.asset(
                  asset: 'ic_edit',
                  width: 24,
                  height: 24,
                ),
              ),
            ],
          ],
        ),
      ],
    );
  }
}
