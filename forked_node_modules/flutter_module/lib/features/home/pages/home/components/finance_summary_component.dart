import 'package:flutter/material.dart';
import 'package:flutter_module/common/colors.dart';
import 'package:flutter_module/common/utils/color_util.dart';
import 'package:flutter_module/common/utils/deeplink_util.dart';
import 'package:flutter_module/models/home_data/dpd_item_model.dart';
import 'package:flutter_staggered_grid_view/flutter_staggered_grid_view.dart';

import '../items/finance_summary_item.dart';

class FinanceSummaryComponent extends StatelessWidget {
  const FinanceSummaryComponent({
    Key? key,
    required this.data,
  }) : super(key: key);

  final List<DPDItemModel> data;

  @override
  Widget build(BuildContext context) {
    if (data.isEmpty) {
      return const SizedBox();
    }
    return Padding(
      padding: const EdgeInsets.only(top: 10),
      child: AlignedGridView.count(
        crossAxisCount: 2,
        mainAxisSpacing: 14,
        crossAxisSpacing: 14,
        shrinkWrap: true,
        padding: EdgeInsets.zero,
        physics: const NeverScrollableScrollPhysics(),
        itemBuilder: (context, index) {
          final item = data[index];
          if (index.isEven) {
            return SummaryFinanceItem.right(
              title: item.title ?? '',
              subtitle: item.value ?? '',
              image: item.icon ?? '',
              color: ColorUtil.fromHexOrNull(item.color ?? '', fallbackColor: UIColors.red)!,
              onTap: () {
                DeepLinkUtil.open(item.path ?? '', title: item.title);
              },
            );
          }
          return SummaryFinanceItem.left(
            title: item.title ?? '',
            subtitle: item.value ?? '',
            image: item.icon ?? '',
            color: ColorUtil.fromHexOrNull(item.color ?? '', fallbackColor: UIColors.secondaryColor)!,
            onTap: () {
              DeepLinkUtil.open(item.path ?? '', title: item.title);
            },
          );
        },
        itemCount: data.length,
      ),
      // child: Row(
      //   children: [
      //     Expanded(
      //       child: SummaryFinanceItem.right(
      //         title: "Hồ sơ trả chậm",
      //         subtitle: "10 hồ sơ",
      //         image: "ic_danger",
      //         color: UIColors.red,
      //       ),
      //     ),
      //     SizedBox(
      //       width: 14,
      //     ),
      //     Expanded(
      //       child: SummaryFinanceItem.left(
      //         title: "Hoa hồng tạm giữ",
      //         subtitle: "1,300,000 đ",
      //         image: "ic_money",
      //         color: UIColors.secondaryColor,
      //       ),
      //     ),
      //   ],
      // ),
    );
  }
}
