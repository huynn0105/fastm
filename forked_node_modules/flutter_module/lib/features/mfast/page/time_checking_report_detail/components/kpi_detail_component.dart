import 'package:flutter_module/common/colors.dart';
import 'package:flutter/material.dart';
import 'package:flutter_module/common/utils/format_util.dart';
import 'package:flutter_module/common/utils/text_util.dart';
import 'package:flutter_module/features/mfast/page/time_checking_report_result/widgets/kpi_widget.dart';
import 'package:flutter_module/models/mfast/report/report_submit_response_model.dart';

class KPIDetailComponent extends StatelessWidget {
  const KPIDetailComponent({
    super.key,
    this.data,
  });

  final ReportSubmitResponseModel? data;

  @override
  Widget build(BuildContext context) {
    return Container(
      decoration: const BoxDecoration(
        color: UIColors.white,
      ),
      child: IntrinsicHeight(
        child: Row(
          crossAxisAlignment: CrossAxisAlignment.stretch,
          children: [
            Expanded(
              child: Padding(
                padding: const EdgeInsets.only(top: 16),
                child: KPIWidget.salesAmount(
                  height: 125,
                  content: FormatUtil.currencyDoubleFormat(data?.totalIncome),
                  titleColor: UIColors.grayText,
                  contentColor: UIColors.darkBlue,
                  backgroundColor: UIColors.white,
                ),
              ),
            ),
            const VerticalDivider(
              width: 5,
              indent: 12,
              endIndent: 12,
            ),
            Expanded(
              child: Padding(
                padding: const EdgeInsets.only(top: 16),
                child: KPIWidget.salesPercent(
                  height: 125,
                  content: TextUtils.isNotEmpty(data?.note)
                      ? data?.note ?? ''
                      : '${FormatUtil.doubleFormat(data?.estKpi ?? 0)}%',
                  percent: data?.estKpi ?? 0,
                  titleColor: UIColors.grayText,
                  backgroundColor: UIColors.white,
                ),
              ),
            ),
          ],
        ),
      ),
    );
  }
}
