import 'package:flutter/material.dart';
import 'package:flutter_module/common/colors.dart';
import 'package:flutter_module/common/enum/mfast/gender_type.dart';
import 'package:flutter_module/common/styles.dart';
import 'package:flutter_module/common/utils/gender_util.dart';
import 'package:flutter_module/common/utils/text_util.dart';
import 'package:flutter_module/models/mfast/user_meta_data/mfast_user_meta_data_model.dart';

class IdentifyInformationComponent extends StatefulWidget {
  const IdentifyInformationComponent({
    super.key,
    this.userMetaData,
  });

  final MFastUserMetaDataModel? userMetaData;

  @override
  State<IdentifyInformationComponent> createState() => _IdentifyInformationComponentState();
}

class _IdentifyInformationComponentState extends State<IdentifyInformationComponent> {
  bool isShowGender = false;
  bool isShowOldIdNumber = false;

  @override
  void initState() {
    super.initState();

    isShowGender =
        TextUtils.isNotEmpty(widget.userMetaData?.gender) && widget.userMetaData?.gender != GenderType.other.id;
    isShowOldIdNumber =
        TextUtils.isNotEmpty(widget.userMetaData?.countryOldIdNumber) && widget.userMetaData?.isCMND() != true;
  }

  @override
  Widget build(BuildContext context) {
    return Container(
      padding: const EdgeInsets.symmetric(
        vertical: 12,
        horizontal: 16,
      ),
      decoration: BoxDecoration(
        borderRadius: BorderRadius.circular(8),
        color: UIColors.white,
      ),
      child: Column(
        children: [
          Row(
            children: [
              Expanded(
                flex: 30,
                child: Text(
                  'Họ và tên:',
                  style: UITextStyle.regular.copyWith(
                    fontSize: 13,
                    color: UIColors.grayText,
                  ),
                ),
              ),
              Expanded(
                flex: 70,
                child: Text(
                  widget.userMetaData?.countryIdName ?? "",
                  style: UITextStyle.regular,
                ),
              ),
            ],
          ),
          const SizedBox(
            height: 10,
          ),
          Row(
            children: [
              Expanded(
                flex: 30,
                child: Text(
                  'Ngày sinh:',
                  style: UITextStyle.regular.copyWith(
                    fontSize: 13,
                    color: UIColors.grayText,
                  ),
                ),
              ),
              Expanded(
                flex: 70,
                child: Text(
                  widget.userMetaData?.countryIdDateOfBirth ?? "",
                  style: UITextStyle.regular,
                ),
              ),
            ],
          ),
          if (isShowGender) ...[
            const SizedBox(
              height: 10,
            ),
            Row(
              children: [
                Expanded(
                  flex: 30,
                  child: Text(
                    'Giới tính:',
                    style: UITextStyle.regular.copyWith(
                      fontSize: 13,
                      color: UIColors.grayText,
                    ),
                  ),
                ),
                // if (isEditGender) ...{
                //   Expanded(
                //     flex: 70,
                //     child: Row(
                //       children: [
                //         AppRadio(
                //           value: GenderUtil.instance.getGender(widget.userMetaData?.gender) == GenderType.male.id,
                //           title: GenderType.male.name,
                //           onChanged: (value) {
                //             cubit.changeGender(
                //               value: GenderType.male.id,
                //             );
                //           },
                //         ),
                //         const SizedBox(
                //           width: 24,
                //         ),
                //         AppRadio(
                //           value: GenderUtil.instance.getGender(widget.userMetaData?.gender) == GenderType.female.id,
                //           title: GenderType.female.name,
                //           onChanged: (value) {
                //             cubit.changeGender(
                //               value: GenderType.female.id,
                //             );
                //           },
                //         ),
                //       ],
                //     ),
                //   ),
                // } else ...{
                Expanded(
                  flex: 70,
                  child: Text(
                    GenderUtil.instance.getNameGender(widget.userMetaData?.gender ?? ""),
                    style: UITextStyle.regular,
                  ),
                ),
                // }
              ],
            ),
          ],
          const SizedBox(
            height: 10,
          ),
          Row(
            children: [
              Expanded(
                flex: 30,
                child: Text(
                  'Số CCCD:',
                  style: UITextStyle.regular.copyWith(
                    fontSize: 13,
                    color: UIColors.grayText,
                  ),
                ),
              ),
              Expanded(
                flex: 70,
                child: Text(
                  widget.userMetaData?.countryIdNumber ?? "",
                  style: UITextStyle.semiBold,
                ),
              ),
            ],
          ),
          const SizedBox(
            height: 10,
          ),
          Row(
            children: [
              Expanded(
                flex: 30,
                child: Text(
                  'Ngày cấp:',
                  style: UITextStyle.regular.copyWith(
                    fontSize: 13,
                    color: UIColors.grayText,
                  ),
                ),
              ),
              Expanded(
                flex: 70,
                child: Text(
                  widget.userMetaData?.countryIdIssuedDate ?? "",
                  style: UITextStyle.regular,
                ),
              ),
            ],
          ),
          if (isShowOldIdNumber) ...[
            const SizedBox(
              height: 10,
            ),
            Row(
              children: [
                Expanded(
                  flex: 30,
                  child: Text(
                    'Số CMND cũ:',
                    style: UITextStyle.regular.copyWith(
                      fontSize: 13,
                      color: UIColors.grayText,
                    ),
                  ),
                ),
                Expanded(
                  flex: 70,
                  child: Text(
                    widget.userMetaData?.countryOldIdNumber ?? "",
                    style: UITextStyle.regular,
                  ),
                ),
              ],
            ),
          ]
        ],
      ),
    );
  }
}
