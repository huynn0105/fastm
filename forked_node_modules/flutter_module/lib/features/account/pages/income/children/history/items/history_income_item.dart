import 'package:flutter/material.dart';
import 'package:flutter_module/common/enum/income/history_income_status.dart';

import '../../../../../../../common/colors.dart';
import '../../../../../../../common/styles.dart';
import '../../../../../../../common/utils/format_util.dart';
import 'history_status_item.dart';

class HistoryIncomeItem extends StatelessWidget {
  const HistoryIncomeItem({
    Key? key,
    required this.code,
    required this.title,
    required this.creditAmount,
    required this.balanceAmount,
    required this.elapsedTime,
    required this.status,
  }) : super(key: key);

  final String code;
  final String title;
  final double creditAmount;
  final double balanceAmount;
  final String elapsedTime;
  final HistoryIncomeStatus? status;

  @override
  Widget build(BuildContext context) {
    return Container(
      padding: const EdgeInsets.all(12),
      child: Column(
        mainAxisSize: MainAxisSize.min,
        crossAxisAlignment: CrossAxisAlignment.start,
        children: [
          Text(
            "#$code: $title",
            style: UITextStyle.regular.copyWith(
              fontSize: 13,
            ),
          ),
          Row(
            children: [
              Expanded(
                flex: 2,
                child: Text(
                  "Giao dịch: ",
                  style: UITextStyle.regular.copyWith(
                    fontSize: 12,
                    color: UIColors.grayText,
                  ),
                ),
              ),
              Expanded(
                flex: 3,
                child: Container(
                  // color: UIColors.accentGreen.withOpacity(0.1),
                  alignment: Alignment.centerLeft,
                  child: Text(
                    FormatUtil.currencyDoubleFormat(creditAmount).replaceAll("-", "- "),
                    style: UITextStyle.semiBold.copyWith(
                      fontSize: 13,
                      color: creditAmount < 0 ? UIColors.red : UIColors.green,
                    ),
                  ),
                ),
              ),
              Expanded(
                flex: 2,
                child: Align(
                  alignment: Alignment.centerRight,
                  child: HistoryStatusItem(
                    status: status,
                  ),
                ),
              ),
            ],
          ),
          Row(
            children: [
              Expanded(
                flex: 2,
                child: Text(
                  "Số dư MFast: ",
                  style: UITextStyle.regular.copyWith(
                    fontSize: 12,
                    color: UIColors.grayText,
                  ),
                ),
              ),
              Expanded(
                flex: 3,
                child: Container(
                  // color: UIColors.accentGreen.withOpacity(0.1),
                  alignment: Alignment.centerLeft,
                  child: Text(
                    FormatUtil.currencyDoubleFormat(balanceAmount),
                    style: UITextStyle.semiBold.copyWith(
                      fontSize: 13,
                      color: UIColors.darkBlue,
                    ),
                  ),
                ),
              ),
              Expanded(
                flex: 2,
                child: Align(
                  alignment: Alignment.centerRight,
                  child: Text(
                    elapsedTime,
                    style: UITextStyle.semiBold.copyWith(
                      fontSize: 12,
                      color: UIColors.grayText,
                    ),
                  ),
                ),
              ),
            ],
          ),
        ],
      ),
    );
  }
}
