import 'package:flutter/material.dart';
import 'package:flutter/src/widgets/framework.dart';
import 'package:flutter/src/widgets/placeholder.dart';
import 'package:flutter_bloc/flutter_bloc.dart';
import 'package:flutter_module/common/colors.dart';
import 'package:flutter_module/features/chat/cubit/chat_contact/chat_contact_cubit.dart';
import 'package:flutter_module/features/chat/page/chat/items/create_chat_item.dart';
import 'package:flutter_module/routes/routes.gr.dart';

class CreateChatOption {
  const CreateChatOption({
    this.icon,
    this.title,
    this.route,
  });

  final String? icon;
  final String? title;
  final dynamic route;
}

class CreateChatComponent extends StatelessWidget {
  const CreateChatComponent({super.key});

  @override
  Widget build(BuildContext context) {
    return BlocBuilder<ChatContactCubit, ChatContactState>(
      builder: (context, state) {
        final listOptions = [
          const CreateChatOption(
            title: 'Thêm liên hệ mới',
            icon: 'ic_add_user',
            route: ChatAddContactRoute(),
          ),
          CreateChatOption(
            title: 'Tạo nhóm',
            icon: 'ic_collaborator_bold',
            route: CreateThreadGroupRoute(contacts: state.contacts),
          ),
          // const CreateChatOption(
          //   title: 'Tạo yêu cầu hỗ trợ mới',
          //   icon: 'ic_add_question',
          //   // route: ChatAddContactRoute,
          // ),
        ];
        return Container(
            padding: const EdgeInsets.only(bottom: 50),
            width: double.infinity,
            color: UIColors.background,
            child: ListView.separated(
              shrinkWrap: true,
              itemBuilder: (context, index) {
                final item = listOptions[index];
                return CreateChatItem(item: item);
              },
              separatorBuilder: (context, index) {
                return const Column(
                  children: [
                    SizedBox(
                      height: 16,
                    ),
                    Divider(
                      indent: 64,
                      color: UIColors.lightGray,
                      endIndent: 16,
                      thickness: 1,
                    ),
                  ],
                );
              },
              itemCount: listOptions.length,
            )
            //  Column(
            //   mainAxisSize: MainAxisSize.min,
            //   children: [
            //     ...listOptions.map(
            //       (e) {
            //         return CreateChatItem(item: e);
            //       },
            //     ).toList(),
            //   ],
            // ),
            );
      },
    );
  }
}
