import 'package:flutter/material.dart';
import 'package:flutter_module/common/colors.dart';
import 'package:flutter_module/common/styles.dart';
import 'package:flutter_module/common/widgets/sliver_list.dart';
import 'package:flutter_sticky_header/flutter_sticky_header.dart';
import 'package:slivers/slivers.dart';

class ContactStickyHeader extends StatelessWidget {
  const ContactStickyHeader({
    super.key,
    required this.title,
    required this.itemCount,
    required this.itemBuilder,
    this.padding = const EdgeInsets.only(top: 20, bottom: 8),
  });

  final String title;
  final int itemCount;
  final IndexedWidgetBuilder itemBuilder;
  final EdgeInsets padding;

  @override
  Widget build(BuildContext context) {
    return SliverStickyHeader.builder(
      overlapsContent: false,
      builder: (context, state) {
        return Container(
          padding: padding,
          color: UIColors.background,
          alignment: Alignment.centerLeft,
          child: Text(
            title,
            style: UITextStyle.regular.copyWith(
              color: UIColors.grayText,
              height: 1,
            ),
          ),
        );
      },
      sliver: SliverContainer(
        padding: const EdgeInsets.all(12),
        decoration: BoxDecoration(
          borderRadius: BorderRadius.circular(12),
          color: UIColors.white,
        ),
        sliver: SeparatedSliverList(
          itemBuilder: itemBuilder,
          itemCount: itemCount,
          separatorBuilder: (_, __) => const Divider(
            indent: 60,
            height: 12,
            color: UIColors.lightGray,
          ),
        ),
      ),
    );
  }
}
