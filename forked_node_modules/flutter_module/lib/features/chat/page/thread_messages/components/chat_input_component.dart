import 'package:flutter/cupertino.dart';
import 'package:flutter_module/common/colors.dart';
import 'package:flutter_module/common/styles.dart';
import 'package:flutter_module/features/chat/page/thread_messages/widgets/markup_input/markup_text_editing_controller.dart';
import 'package:flutter_module/features/chat/page/thread_messages/widgets/markup_input/markup_text_field.dart';
import 'package:flutter_module/features/chat/page/thread_messages/widgets/markup_input/models/markup_config_model.dart';

class ChatInputComponent extends StatelessWidget {
  const ChatInputComponent({
    super.key,
    required this.markupConfigs,
    this.leading = const [],
    this.trailing = const [],
    this.inputController,
    this.inputFocusNode,
    this.onTap,
    this.isDisabledTap = false,
  });

  final MarkupTextEditingController? inputController;
  final FocusNode? inputFocusNode;
  final List<MarkupConfigModel> markupConfigs;
  final List<Widget> leading;
  final List<Widget> trailing;
  final Function()? onTap;
  final bool isDisabledTap;

  @override
  Widget build(BuildContext context) {
    return MarkupTextField(
      controller: inputController,
      focusNode: inputFocusNode,
      readOnly: !isDisabledTap,
      onTap: onTap,
      cursorWidth: 2,
      cursorColor: UIColors.primaryColor,
      cursorRadius: const Radius.circular(2),
      autocorrect: false,
      textCapitalization: TextCapitalization.sentences,
      style: UITextStyle.regular.copyWith(
        fontSize: 15,
        height: 1.5,
        color: UIColors.defaultText,
      ),
      strutStyle: const StrutStyle(
        forceStrutHeight: true,
      ),
      minLines: 1,
      maxLines: 3,
      textAlign: TextAlign.start,
      textAlignVertical: TextAlignVertical.center,
      placeholder: "Nhắn tin ...",
      placeholderStyle: UITextStyle.regular.copyWith(
        fontSize: 14,
        color: UIColors.gray,
      ),
      padding: const EdgeInsets.all(8),
      decoration: BoxDecoration(
        border: Border.all(
          color: UIColors.white,
        ),
      ),
      markupConfigs: markupConfigs,
      leading: leading,
      trailing: trailing,
    );
    // return CupertinoTextField(
    //   controller: inputController,
    //   focusNode: inputFocusNode,
    //   cursorWidth: 2,
    //   cursorColor: UIColors.primaryColor,
    //   cursorRadius: const Radius.circular(2),
    //   autocorrect: false,
    //   textCapitalization: TextCapitalization.sentences,
    //   style: UITextStyle.regular.copyWith(
    //     fontSize: 15,
    //     height: 1.5,
    //     color: UIColors.defaultText,
    //   ),
    //   strutStyle: const StrutStyle(
    //     forceStrutHeight: true,
    //   ),
    //   minLines: 1,
    //   maxLines: 3,
    //   textAlign: TextAlign.start,
    //   textAlignVertical: TextAlignVertical.center,
    //   placeholder: "Nhắn tin ...",
    //   placeholderStyle: UITextStyle.regular.copyWith(
    //     fontSize: 14,
    //     color: UIColors.gray,
    //   ),
    //   padding: const EdgeInsets.all(8),
    //   decoration: BoxDecoration(
    //     border: Border.all(
    //       color: UIColors.white,
    //     ),
    //   ),
    // );
  }
}
