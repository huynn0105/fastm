import 'package:flutter/material.dart';
import 'package:flutter_module/common/colors.dart';
import 'package:flutter_module/common/styles.dart';
import 'package:flutter_module/common/utils/text_util.dart';
import 'package:flutter_module/common/widgets/avatar/chat_avatar.dart';
import 'package:flutter_module/models/chat/thread/chat_thread_model.dart';

class SingleWelcomeWidget extends StatelessWidget {
  const SingleWelcomeWidget({
    super.key,
    required this.thread,
  });

  final ChatThreadModel? thread;

  @override
  Widget build(BuildContext context) {
    final name = thread?.getDefaultThreadTitle() ?? '';
    final avatar = thread?.getSingleThreadTargetUser()?.avatarImage ?? '';
    return Column(
      crossAxisAlignment: CrossAxisAlignment.center,
      children: [
        ChatAvatar(
          url: TextUtils.convertFirebaseUrlAvatar(avatar),
          name: name,
          isSingleThread: true,
          size: 56,
        ),
        const SizedBox(
          height: 8,
        ),
        Text(
          name,
          style: UITextStyle.semiBold.copyWith(
            fontSize: 18,
          ),
        ),
        const SizedBox(
          height: 8,
        ),
        RichText(
          textAlign: TextAlign.center,
          text: TextSpan(
            style: UITextStyle.regular.copyWith(
              fontSize: 14,
              color: UIColors.grayText,
            ),
            children: [
              const TextSpan(
                text: 'Các bạn đã là bạn bè. Giờ đây ',
              ),
              TextSpan(
                text: name,
                style: UITextStyle.regular.copyWith(
                  fontSize: 13,
                ),
              ),
              const TextSpan(
                text: ' đã sẵn sàng trò chuyện cùng bạn',
              ),
            ],
          ),
        ),
      ],
    );
  }
}
