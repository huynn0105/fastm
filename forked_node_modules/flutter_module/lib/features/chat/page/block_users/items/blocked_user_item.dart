import 'package:flutter/material.dart';
import 'package:flutter_module/common/colors.dart';
import 'package:flutter_module/common/styles.dart';
import 'package:flutter_module/common/widgets/avatar/chat_avatar.dart';
import 'package:flutter_module/common/widgets/images.dart';
import 'package:flutter_module/models/chat/contact/blocked_user_model.dart';

class BlockedUserItem extends StatelessWidget {
  const BlockedUserItem({
    super.key,
    required this.data,
    required this.onUnBlocked,
  });

  final BlockedUserModel data;
  final Function(BlockedUserModel) onUnBlocked;

  @override
  Widget build(BuildContext context) {
    return Padding(
      padding: const EdgeInsets.symmetric(horizontal: 16, vertical: 6),
      child: Row(
        children: [
          ChatAvatar(
            size: 48,
            uid: data.uid ?? '',
            name: data.fullName ?? '',
            url: data.avatarImage ?? '',
            isSingleThread: true,
          ),
          const SizedBox(
            width: 12,
          ),
          Expanded(
            child: Column(
              crossAxisAlignment: CrossAxisAlignment.start,
              children: [
                Text(
                  data.fullName ?? '',
                  style: UITextStyle.regular.copyWith(
                    fontSize: 16,
                    color: UIColors.defaultText,
                  ),
                ),
                RichText(
                  text: TextSpan(
                    children: [
                      const WidgetSpan(
                        child: AppImage.asset(
                          asset: 'ic_call_ringing_outline',
                          width: 20,
                          height: 20,
                        ),
                      ),
                      const WidgetSpan(
                        child: SizedBox(
                          width: 4,
                        ),
                      ),
                      TextSpan(
                        text: data.phoneNumber ?? '',
                        style: UITextStyle.regular.copyWith(
                          fontSize: 13,
                          color: UIColors.grayText,
                        ),
                      ),
                    ],
                  ),
                ),
              ],
            ),
          ),
          OutlinedButton(
            onPressed: () => onUnBlocked(data),
            child: Text(
              'Bỏ chặn',
              style: UITextStyle.regular.copyWith(
                color: UIColors.grayText,
              ),
            ),
          ),
        ],
      ),
    );
  }
}
