import 'package:collection/collection.dart';
import 'package:flutter/material.dart';
import 'package:flutter_module/common/colors.dart';

class ProcessBarResultComponent extends StatelessWidget {
  final int maxQuiz;
  final List<int> indexesWrong;
  const ProcessBarResultComponent({
    super.key,
    this.maxQuiz = 1,
    this.indexesWrong = const [],
  });

  @override
  Widget build(BuildContext context) {
    return Row(
      children: _getProcess(),
    );
  }

  _getProcess() {
    final List listWidget = [];
    listWidget.length = maxQuiz;

    return listWidget
        .mapIndexed(
          (index, item) => Expanded(
            flex: 1,
            child: Container(
              width: double.infinity,
              height: 8,
              decoration: BoxDecoration(
                borderRadius: BorderRadius.circular(8),
                color: indexesWrong.contains(index)
                    ? UIColors.red
                    : UIColors.accentGreen,
                border: Border.all(width: 1, color: UIColors.background),
              ),
            ),
          ),
        )
        .toList();
  }
}
