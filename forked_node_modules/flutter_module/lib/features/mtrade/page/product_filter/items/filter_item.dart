import 'package:flutter/material.dart';
import 'package:flutter_module/models/mtrade/filter/mtrade_filter_group_model.dart';

import '../components/filter_grid_view_component.dart';
import '../components/filter_price_input_component.dart';
import '../widgets/filter_group_block.dart';

class FilterItem extends StatelessWidget {
  const FilterItem({
    Key? key,
    required this.group,
    required this.isTypingPrice,
  }) : super(key: key);

  final MTradeFilterGroupModel group;
  final bool isTypingPrice;

  @override
  Widget build(BuildContext context) {
    final filters = group.list ?? [];
    final keyword = group.keyword ?? "";
    final showLastItemFullScreen = group.showLastItemFullScreen ?? false;
    final showPriceInput = group.inputs?.isNotEmpty ?? false;

    return FilterGroupBlock(
      title: "${group.title}",
      child: Column(
        children: [
          if (showPriceInput) ...[
            FilterPriceInputComponent(
              keyword: keyword,
              inputs: group.inputs ?? [],
              isTypingPrice: isTypingPrice,
            ),
          ],
          FilterGridViewComponent(
            data: filters,
            keyword: keyword,
            showPriceInput: showPriceInput,
            showLastItemFullScreen: showLastItemFullScreen,
          )
        ],
      ),
    );
  }
}
