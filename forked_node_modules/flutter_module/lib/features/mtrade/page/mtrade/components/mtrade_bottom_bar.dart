import 'package:auto_route/auto_route.dart';
import 'package:flutter/material.dart';
import 'package:flutter_module/common/size.dart';

import '../../../../../common/colors.dart';
import '../../../../../common/widgets/tabbar/bottom_tab_item.dart';

class MTradeBottomBar extends StatelessWidget {
  const MTradeBottomBar({
    Key? key,
    required this.tabsRouter,
  }) : super(key: key);

  final TabsRouter tabsRouter;

  @override
  Widget build(BuildContext context) {
    return Container(
      height: AppSize.instance.bottomBarHeight,
      alignment: Alignment.topCenter,
      decoration: const BoxDecoration(
        color: UIColors.white,
        boxShadow: [
          BoxShadow(
            color: Colors.black38,
            blurRadius: 2,
          ),
        ],
      ),
      child: Row(
        children: List.generate(
          data.length,
          (index) {
            final e = data[index];
            return BottomTabItem(
              image: e["icon"],
              text: e["title"],
              isEnable: index == tabsRouter.activeIndex,
              onTap: () {
                tabsRouter.setActiveIndex(index);
              },
            );
          },
        ),
      ),
    );
  }

  List<Map<String, dynamic>> get data {
    return [
      {
        "icon": "ic_mtrade_brochure",
        "title": "Công cụ",
      },
      {
        "icon": "ic_mtrade_product",
        "title": "Sản phẩm",
      },
      {
        "icon": "ic_mtrade_cart",
        "title": "Giỏ hàng",
      },
      {
        "icon": "ic_mtrade_order",
        "title": "Đơn hàng",
      },
    ];
  }
}
