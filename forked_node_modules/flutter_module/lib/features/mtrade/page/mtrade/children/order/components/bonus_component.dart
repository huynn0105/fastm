import 'package:flutter/cupertino.dart';
import 'package:flutter/material.dart';
import 'package:flutter_bloc/flutter_bloc.dart';
import 'package:flutter_module/common/bloc_status.dart';
import 'package:flutter_module/common/colors.dart';
import 'package:flutter_module/features/mtrade/cubit/bonus/mtrade_bonus_cubit.dart';

import '../items/bonus_widget.dart';

class BonusComponent extends StatelessWidget {
  const BonusComponent({Key? key}) : super(key: key);

  @override
  Widget build(BuildContext context) {
    return BlocBuilder<MTradeBonusCubit, MTradeBonusState>(
      buildWhen: (pre, cur) {
        return pre.status != cur.status;
      },
      builder: (context, state) {
        final bonus = state.bonus;
        return Container(
          height: 60,
          alignment: Alignment.center,
          margin: const EdgeInsets.only(left: 16, right: 16),
          padding: const EdgeInsets.symmetric(horizontal: 16),
          decoration: BoxDecoration(
            color: UIColors.white,
            borderRadius: BorderRadius.circular(8),
          ),
          child: state.status.isLoading
              ? const CupertinoActivityIndicator()
              : HorizontalBonusItem(
                  title: "Thu nhập tương ứng",
                  asset: "ic_mtrade_direct_bonus",
                  price: bonus?.directBonusSum ?? 0,
                  color: UIColors.accentGreen,
                ),
        );
        // return Container(
        //   height: 72,
        //   margin: const EdgeInsets.only(left: 16, right: 16),
        //   padding: const EdgeInsets.symmetric(vertical: 10),
        //   decoration: BoxDecoration(
        //     color: UIColors.white,
        //     borderRadius: BorderRadius.circular(8),
        //   ),
        //   child: state.status.isLoading
        //       ? const CupertinoActivityIndicator()
        //       : Row(
        //           children: [
        //             Expanded(
        //               child: BonusItem(
        //                 title: "Thu nhập trực tiếp",
        //                 asset: "ic_mtrade_direct_bonus",
        //                 price: bonus?.directBonusSum ?? 0,
        //                 color: UIColors.accentGreen,
        //               ),
        //             ),
        //             const VerticalDivider(),
        //             Expanded(
        //               child: BonusItem(
        //                 title: "Thu nhập gián tiếp",
        //                 asset: "ic_mtrade_indirect_bonus",
        //                 price: bonus?.indirectBonusSum ?? 0,
        //                 color: UIColors.darkBlue,
        //               ),
        //             ),
        //           ],
        //         ),
        // );
      },
    );
  }
}
