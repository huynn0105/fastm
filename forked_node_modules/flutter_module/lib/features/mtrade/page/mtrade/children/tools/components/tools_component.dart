import 'package:auto_route/auto_route.dart';
import 'package:flutter/material.dart';
import 'package:flutter_module/common/global_function.dart';
import '../items/tools_item.dart';
import '../../../../../../../models/mtrade/tools/tools_model.dart';

import '../../../../../../../common/colors.dart';
import '../../../../../../../common/styles.dart';
import '../../../../../../../routes/routes.gr.dart';

class ToolsComponent extends StatelessWidget {
  const ToolsComponent({
    Key? key,
    required this.data,
  }) : super(key: key);

  final List<ToolsModel> data;

  @override
  Widget build(BuildContext context) {
    return Column(
      children: [
        const SizedBox(
          height: 16,
        ),
        Center(
          child: Text(
            "Danh sách công cụ",
            style: UITextStyle.medium.copyWith(
              fontSize: 16,
              color: UIColors.grayText,
            ),
          ),
        ),
        const SizedBox(
          height: 16,
        ),
        ListView.separated(
          shrinkWrap: true,
          padding: const EdgeInsets.symmetric(horizontal: 16),
          physics: const NeverScrollableScrollPhysics(),
          itemBuilder: (context, index) {
            return ToolsItem(
              data: data[index],
              onTap: () {
                _onTap(context, data[index].keyword ?? "");
              },
            );
          },
          separatorBuilder: (_, __) => const Divider(
            height: 26,
          ),
          itemCount: data.length,
        ),
      ],
    );
  }

  _onTap(BuildContext context, String keyword) {
    switch (keyword) {
      case "mtrade_personal_website":
        GlobalFunction.action(
          context: context,
          onTap: () {
            context.pushRoute(MTradePersonalWebsiteTabbarRoute());
          },
        );
        return;
      case "mtrade_brochure":
        GlobalFunction.action(
          context: context,
          onTap: () {
            context.pushRoute(const MTradeBrochureRoute());
          },
        );
        return;
      default:
        return;
    }
  }
}
