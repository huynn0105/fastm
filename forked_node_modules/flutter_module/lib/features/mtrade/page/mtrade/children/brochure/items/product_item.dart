import 'package:flutter/material.dart';

import '../../../../../../../common/widgets/buttons.dart';
import '../../../../../../../common/extension/list_extension.dart';
import '../../../../../../../common/styles.dart';
import '../../../../../../../common/widgets/images.dart';
import '../../../../../../../models/mtrade/product/mtrade_brochure_product_model.dart';

class ProductItem extends StatelessWidget {
  const ProductItem({
    Key? key,
    required this.data,
    required this.onDeleted,
  }) : super(key: key);

  final MTradeBrochureProductModel? data;
  final Function(String? id) onDeleted;

  @override
  Widget build(BuildContext context) {
    return Container(
      width: 72,
      alignment: Alignment.topCenter,
      child: Column(
        children: [
          const SizedBox(
            height: 8,
          ),
          Stack(
            clipBehavior: Clip.none,
            children: [
              AppImage.network(
                url: data?.medium?.valueAt(0) ?? "",
                width: 54,
                height: 54,
                borderRadius: BorderRadius.circular(8),
              ),
              Positioned(
                top: -15,
                right: -15,
                child: SplashButton(
                  onTap: () => onDeleted(data?.id),
                  child: Container(
                    // color: Colors.black,
                    padding: const EdgeInsets.all(8),
                    child: const AppImage.asset(
                      asset: "ic_failed",
                      width: 20,
                      height: 20,
                    ),
                  ),
                ),
              ),
            ],
          ),
          const SizedBox(
            height: 12,
          ),
          Text(
            data?.name ?? "",
            style: UITextStyle.regular.copyWith(
              fontSize: 12,
              height: 1.25,
            ),
            maxLines: 3,
            overflow: TextOverflow.ellipsis,
            textAlign: TextAlign.center,
          ),
        ],
      ),
    );
  }
}
