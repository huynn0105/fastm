import 'package:auto_route/auto_route.dart';
import 'package:flutter/material.dart';
import 'package:flutter_module/app_data.dart';
import 'package:flutter_module/common/colors.dart';
import 'package:flutter_module/common/styles.dart';
import 'package:flutter_module/common/widgets/buttons.dart';
import 'package:flutter_module/common/widgets/images.dart';
import 'package:flutter_module/features/mtrade/page/mtrade/widgets/mtrade_block_widget.dart';
import 'package:flutter_module/routes/routes.gr.dart';

class OrderKnowLedgeComponent extends StatelessWidget {
  const OrderKnowLedgeComponent({super.key});

  @override
  Widget build(BuildContext context) {
    final data = AppData.instance.configs?.product?.orderKnowLedges ?? [];
    if (data.isEmpty) {
      return const SizedBox();
    }
    return MTradeBlockWidget(
      title: "Những điều cần biết",
      titlePadding: EdgeInsets.zero,
      child: Container(
        padding: const EdgeInsets.symmetric(horizontal: 16),
        decoration: BoxDecoration(
          color: UIColors.white,
          borderRadius: BorderRadius.circular(12),
        ),
        child: ListView.separated(
          shrinkWrap: true,
          padding: EdgeInsets.zero,
          physics: const NeverScrollableScrollPhysics(),
          itemBuilder: (context, index) {
            final item = data[index];
            return SplashButton(
              onTap: () {
                context.pushRoute(WebViewRoute(
                  title: item.content ?? '',
                  url: item.link ?? '',
                ));
              },
              child: Padding(
                padding: const EdgeInsets.symmetric(vertical: 12),
                child: Row(
                  children: [
                    AppImage.network(
                      url: item.icon ?? '',
                      width: 24,
                      height: 24,
                    ),
                    const SizedBox(
                      width: 12,
                    ),
                    Expanded(
                      child: Row(
                        children: [
                          Expanded(
                            child: Text(
                              item.content ?? '',
                              style: UITextStyle.regular,
                              maxLines: 1,
                              overflow: TextOverflow.ellipsis,
                            ),
                          ),
                          const SizedBox(
                            width: 12,
                          ),
                          const Icon(
                            Icons.keyboard_arrow_right_rounded,
                            size: 20,
                            color: UIColors.grayText,
                          ),
                        ],
                      ),
                    ),
                  ],
                ),
              ),
            );
          },
          separatorBuilder: (_, __) => const Divider(
            height: 0,
            indent: 36,
          ),
          itemCount: data.length,
        ),
      ),
    );
  }
}
