import 'package:flutter/material.dart';
import 'package:flutter_module/common/constants.dart';
import 'package:flutter_module/common/extension/list_extension.dart';
import 'package:flutter_module/features/mtrade/page/mtrade/items/discount_tag.dart';
import 'package:flutter_module/models/mtrade/product_detail/comm_model.dart';

import '../../../../../common/colors.dart';
import '../../../../../common/styles.dart';
import '../../../../../models/mtrade/product_detail/mtrade_product_detail_model.dart';

class NameInformationComponent extends StatelessWidget {
  const NameInformationComponent({
    Key? key,
    required this.data,
    required this.comparePrice,
  }) : super(key: key);

  final MTradeProductDetailModel? data;
  final ValueModel? comparePrice;

  @override
  Widget build(BuildContext context) {
    final showTag = comparePrice?.value != null;
    return AnimatedSize(
      duration: const Duration(milliseconds: 500),
      alignment: Alignment.topCenter,
      child: Container(
        padding: const EdgeInsets.fromLTRB(16, 16, 16, 16),
        decoration: const BoxDecoration(
          color: UIColors.white,
        ),
        child: Stack(
          clipBehavior: Clip.none,
          children: [
            Align(
              alignment: Alignment.centerLeft,
              child: Padding(
                padding: showTag ? const EdgeInsets.only(right: 45) : EdgeInsets.zero,
                child: Text(
                  data?.name ?? "",
                  style: UITextStyle.semiBold.copyWith(
                    fontSize: 18,
                  ),
                ),
              ),
            ),
            if (showTag)
              Positioned(
                top: -16,
                right: 0,
                child: DiscountTag(
                  data: comparePrice,
                ),
              ),
          ],
        ),
      ),
    );
  }
}
