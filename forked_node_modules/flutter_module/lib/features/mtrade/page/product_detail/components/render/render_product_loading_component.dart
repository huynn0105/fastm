import 'package:flutter/material.dart';
import 'package:flutter_bloc/flutter_bloc.dart';
import 'package:flutter_module/common/bloc_status.dart';
import 'package:flutter_module/common/widgets/loading.dart';
import 'package:flutter_module/features/mtrade/cubit/product_detail/mtrade_product_detail_cubit.dart';

class RenderProductLoadingComponent extends StatelessWidget {
  const RenderProductLoadingComponent({super.key});

  @override
  Widget build(BuildContext context) {
    return BlocBuilder<MTradeProductDetailCubit, MTradeProductDetailState>(
      builder: (context, state) {
        final showLoading = state.checkSkuStatus.isLoading ||
            state.addCartStatus.isLoading ||
            state.checkProjectPayNowStatus.isLoading ||
            state.checkProjectPayLaterStatus.isLoading ||
            state.checkSupportLocationStatus.isLoading ||
            state.checkProductSchemePayLater.isLoading ||
            state.checkProductStockStatus.isLoading ||
            state.checkMethodStatus.isLoading;

        ///
        return Visibility(
          visible: showLoading,
          child: const LoadingWidget.dark(),
        );
      },
    );
  }
}
