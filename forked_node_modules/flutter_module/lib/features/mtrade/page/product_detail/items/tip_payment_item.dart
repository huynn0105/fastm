import 'package:flutter/material.dart';
import 'package:flutter_module/models/mtrade/product_detail/comm_model.dart';

import '../../../../../common/colors.dart';
import '../../../../../common/styles.dart';
import '../../../../../common/utils/format_util.dart';

class TipPaymentItem extends StatelessWidget {
  const TipPaymentItem({
    Key? key,
    required this.title,
    required this.comm,
    required this.unsupported,
    required this.priceColor,
    required this.backgroundColor,
  }) : super(key: key);

  const TipPaymentItem.now({
    Key? key,
    required this.title,
    required this.comm,
    required this.unsupported,
  })  : priceColor = UIColors.secondaryColor,
        backgroundColor = UIColors.lightSecondaryColor,
        super(key: key);

  const TipPaymentItem.later({
    Key? key,
    required this.title,
    required this.comm,
    required this.unsupported,
  })  : priceColor = UIColors.green,
        backgroundColor = UIColors.extraLightGreen,
        super(key: key);

  final String title;
  final CommModel? comm;
  final Color backgroundColor;
  final Color priceColor;
  final bool unsupported;

  @override
  Widget build(BuildContext context) {
    final ticketSize = comm?.ticketSize;
    final scheme = comm?.scheme;

    return Container(
      padding: const EdgeInsets.symmetric(vertical: 9, horizontal: 12),
      decoration: BoxDecoration(
        color: unsupported ? UIColors.lightGray : backgroundColor,
        borderRadius: BorderRadius.circular(8),
      ),
      child: Column(
        crossAxisAlignment: CrossAxisAlignment.start,
        children: [
          Text(
            title,
            style: UITextStyle.regular.copyWith(
              fontSize: 13,
              color: UIColors.grayText,
            ),
          ),
          if (unsupported)
            Text(
              "Không hỗ trợ",
              style: UITextStyle.bold.copyWith(
                fontSize: 16,
              ),
            )
          else
            Wrap(
              alignment: WrapAlignment.start,
              spacing: 5,
              children: [
                if (ticketSize?.value != null)
                  Text(
                    "${FormatUtil.currencyDoubleFormat(ticketSize?.value, showUnit: false)}${ticketSize?.currency ?? ""}",
                    style: UITextStyle.bold.copyWith(
                      fontSize: 16,
                      color: priceColor,
                    ),
                  ),
                if (scheme?.value != null)
                  Text(
                    "(${FormatUtil.currencyDoubleFormat(scheme?.value, showUnit: false)}${scheme?.currency ?? ""})",
                    style: UITextStyle.bold.copyWith(
                      fontSize: 16,
                      color: priceColor,
                    ),
                  ),
              ],
            ),
        ],
      ),
    );
  }
}
