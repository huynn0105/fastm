import 'package:flutter/material.dart';
import 'package:flutter_module/common/colors.dart';
import 'package:flutter_module/common/styles.dart';
import 'package:flutter_module/common/widgets/checkbox.dart';

class CheckboxExpandComponent extends StatelessWidget {
  const CheckboxExpandComponent({
    super.key,
    required this.value,
    required this.onChanged,
    this.title = '',
    this.titleWidget,
    this.child,
    this.inverted = false,
    this.isEnable = true,
  });

  final bool value;
  final Function(bool value) onChanged;
  final String title;
  final Widget? titleWidget;
  final Widget? child;
  final bool inverted;
  final bool isEnable;

  @override
  Widget build(BuildContext context) {
    return Column(
      children: [
        Row(
          children: [
            AppCheckbox.rectangle(
              value: value,
              onChanged: onChanged,
              isEnable: isEnable,
            ),
            const SizedBox(
              width: 12,
            ),
            Expanded(
              child: titleWidget ??
                  Text(
                    title,
                    style: UITextStyle.medium.copyWith(
                      fontSize: 16,
                      color: UIColors.boolText,
                    ),
                  ),
            ),
          ],
        ),
        AnimatedSwitcher(
          duration: const Duration(
            milliseconds: 200,
          ),
          transitionBuilder: (child, animation) {
            return SizeTransition(sizeFactor: animation, child: child);
          },
          child: (inverted ? !value : value) ? child : null,
        ),
      ],
    );
  }
}
