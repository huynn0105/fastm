import 'package:auto_route/auto_route.dart';
import 'package:flutter/material.dart';
import 'package:flutter_module/app_data.dart';
import 'package:flutter_module/common/colors.dart';

import '../../../../../../../common/dialogs/dialog_view/mtrade/mtrade_dialog_view.dart';
import '../../../../../../../common/styles.dart';
import '../../../../../../../common/utils/format_util.dart';
import '../../../../../../../common/widgets/app_layout.dart';
import '../../../../../../../common/widgets/buttons.dart';
import '../../../../../../../common/widgets/images.dart';
import '../../../../../../../widgets/footer.dart';

@RoutePage()
class ResultRequestPayLaterOrderPage extends StatelessWidget {
  const ResultRequestPayLaterOrderPage({
    Key? key,
    this.onNextPage,
    this.status = true,
    this.message,
  }) : super(key: key);

  final Function? onNextPage;
  final bool status;
  final String? message;

  @override
  Widget build(BuildContext context) {
    return AppLayout(
      footer: const WebFooter(),
      padding: const EdgeInsets.fromLTRB(16, 50, 15, 0),
      child: Column(
        children: [
          if (!status) ...[
            MTradeDialogView(
              asset: "ic_mtrade_mascot_error",
              title: "Đăng ký trả chậm thất bại",
              titleColor: UIColors.red,
              message: message ?? "",
              showDottedDivider: true,
            ),
            const SizedBox(
              height: 10,
            ),
            PrimaryButton(
              onPressed: () {
                context.popRoute();
              },
              height: 50,
              title: "Đã hiểu và quay lại",
            ),
          ],
          if (status) ...[
            MTradeDialogView(
              asset: "ic_mtrade_mascot_success",
              title: "Đăng ký thành công",
              titleColor: UIColors.green,
              customContent: Column(
                children: [
                  Text(
                    message ?? "Quý khách có thể liên hệ với nhân viên bán hàng theo thông tin sau để được tư vấn nhanh hơn.",
                    style: UITextStyle.regular,
                  ),
                  const SizedBox(
                    height: 8,
                  ),
                  Row(
                    children: [
                      const AppImage.asset(
                        asset: 'ic_saleman',
                        width: 24,
                        height: 24,
                        color: UIColors.bluePurple,
                      ),
                      const SizedBox(
                        width: 8,
                      ),
                      Text(
                        AppData.instance.saleName?.toUpperCase() ?? '',
                        style: UITextStyle.semiBold.copyWith(
                          fontSize: 16,
                          color: UIColors.darkBlue,
                        ),
                      ),
                    ],
                  ),
                  const SizedBox(
                    height: 8,
                  ),
                  Row(
                    children: [
                      const AppImage.asset(
                        asset: 'ic_brochure_phone',
                        width: 24,
                        height: 24,
                        color: UIColors.primaryColor,
                      ),
                      const SizedBox(
                        width: 8,
                      ),
                      Text(
                        FormatUtil.phoneFormat(AppData.instance.salePhoneNumber ?? ""),
                        style: UITextStyle.semiBold.copyWith(
                          fontSize: 16,
                          color: UIColors.primaryColor,
                        ),
                      ),
                    ],
                  ),
                ],
              ),
              showDottedDivider: true,
            ),
            const SizedBox(
              height: 24,
            ),
            PrimaryButton(
              onPressed: () {
                context.router.pop();
              },
              height: 50,
              radius: 8,
              padding: const EdgeInsets.symmetric(horizontal: 24),
              title: "Xem thêm sản phẩm khác",
            ),
          ],
        ],
      ),
    );
  }
}
