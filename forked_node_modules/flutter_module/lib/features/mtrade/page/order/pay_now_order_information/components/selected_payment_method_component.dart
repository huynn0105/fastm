import 'package:auto_route/auto_route.dart';
import 'package:collection/collection.dart';
import 'package:dotted_line/dotted_line.dart';
import 'package:ekyc/common/utils/text_util.dart';
import 'package:ekyc/common/widgets/buttons.dart';
import 'package:flutter/material.dart';
import 'package:flutter_bloc/flutter_bloc.dart';
import 'package:flutter_module/common/constants.dart';
import 'package:flutter_module/common/utils/format_util.dart';
import 'package:flutter_module/common/widgets/collect_data_view.dart';
import 'package:flutter_module/features/mtrade/cubit/pay_now_order_information/mtrade_pay_now_order_information_cubit.dart';
import 'package:flutter_module/models/mtrade/order/payment_method_model.dart';
import 'package:scroll_to_index/scroll_to_index.dart';

import '../../../../../../common/colors.dart';
import '../../../../../../common/styles.dart';
import '../../../../../../common/widgets/images.dart';
import '../../../../../../models/mtrade/order/mtrade_order_price_model.dart';
import '../../../../../../models/mtrade/promotion/mtrade_promotion_data_model.dart';
import '../../../../../../routes/routes.gr.dart';
import '../../../../../../services/api/mtrade/payload/mtrade_pay_now_order_payload.dart';

class SelectedPaymentMethodComponent extends StatelessWidget {
  const SelectedPaymentMethodComponent({super.key, this.selectedPaymentMethod});

  final PaymentMethodModel? selectedPaymentMethod;

  @override
  Widget build(BuildContext context) {
    return Column(
      children: [
        Row(
          children: [
            Expanded(
              child: Text(
                selectedPaymentMethod?.label ?? '',
                style: UITextStyle.regular.copyWith(
                  fontSize: 16,
                ),
              ),
            ),
            const AppImage.asset(asset: 'ic_arrow_right', width: 20, height: 20)
          ],
        ),
        const SizedBox(height: 4),
        Text(
          selectedPaymentMethod?.desc ?? '',
          style: UITextStyle.regular.copyWith(
            color: UIColors.grayText,
          ),
        ),
        const SizedBox(height: 11),
        const DottedLine(
          dashGapLength: 5,
          dashLength: 10,
          dashColor: UIColors.lightGray,
        ),
        const SizedBox(height: 11),
        Row(
          children: [
            Text(
              'Phí thanh toán:',
              style: UITextStyle.regular.copyWith(
                color: UIColors.grayText,
              ),
            ),
            const SizedBox(width: 4),
            Expanded(
              child: Text(
                selectedPaymentMethod?.paymentFee ?? '',
                textAlign: TextAlign.end,
                style: UITextStyle.semiBold.copyWith(
                  fontSize: 16,
                ),
              ),
            ),
          ],
        ),
        const SizedBox(height: 6),
        Row(
          children: [
            Text(
              'Thực thanh toán:',
              style: UITextStyle.regular.copyWith(
                color: UIColors.grayText,
              ),
            ),
            const SizedBox(width: 4),
            Expanded(
              child: Text(
                selectedPaymentMethod?.paymentTotal ?? '',
                textAlign: TextAlign.end,
                style: UITextStyle.semiBold.copyWith(
                  fontSize: 16,
                ),
              ),
            ),
          ],
        ),
      ],
    );
  }
}
