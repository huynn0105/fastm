import 'package:flutter/material.dart';
import 'package:flutter_module/app_data.dart';
import 'package:flutter_module/common/global_function.dart';
import 'package:flutter_module/common/utils/redirect_util.dart';
import 'package:url_launcher/url_launcher.dart';

import '../../../../../../../common/colors.dart';
import '../../../../../../../common/dialogs/dialog_view/mtrade/mtrade_dialog_view.dart';
import '../../../../../env_data.dart';

class CheckLoginComponent extends StatelessWidget {
  const CheckLoginComponent({Key? key}) : super(key: key);

  @override
  Widget build(BuildContext context) {
    return Container(
      padding: const EdgeInsets.fromLTRB(16, 70, 16, 0),
      decoration: const BoxDecoration(
        color: UIColors.background,
      ),
      child: MTradeDialogView(
        asset: "ic_mtrade_mascot_login",
        titleColor: UIColors.darkBlue,
        title: "Đăng nhập để tiếp tục sử dụng",
        messageAlign: TextAlign.left,
        messageColor: UIColors.defaultText,
        message: "Vui lòng đăng nhập trước để bắt đầu trải nghiệm và tạo ra thu nhập trên MFast",
        positiveTitle: "Đăng nhập ngay",
        showDottedDivider: true,
        enableAutoPop: false,
        positiveCallback: () {
          RedirectUtil.backToMFast();
          GlobalFunction.launchScheme(
            "${EnvData.instance.deepLinkBaseUrl}://open?view=LoginModal",
            mode: LaunchMode.externalApplication,
          );
        },
      ),
    );
  }
}
