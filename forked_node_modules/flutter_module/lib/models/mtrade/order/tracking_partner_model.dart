import 'package:flutter_module/common/utils/datetime_util.dart';

/// trackingCode : null
/// addressFull : null
/// warehouse: Kho TPHCM,
/// earliest_delivery_date: 2023-05-20T00:00:00+00:00,
/// lastest_delivery_date: 2023-05-21T23:59:59+00:00,

class TrackingPartnerModel {
  TrackingPartnerModel({
    this.partner,
    this.trackingCode,
    this.addressFull,
    this.warehouse,
    this.fromDeliveryDate,
    this.toDeliveryDate,
  });

  TrackingPartnerModel.fromJson(dynamic json) {
    partner = json['partner'];
    trackingCode = json['trackingCode'];
    addressFull = json['addressFull'];
    warehouse = json['warehouse'];
    fromDeliveryDate = json['earliest_delivery_date'];
    toDeliveryDate = json['lastest_delivery_date'];
  }

  String? partner;
  String? trackingCode;
  String? addressFull;
  String? warehouse;
  String? fromDeliveryDate;
  String? toDeliveryDate;

  Map<String, dynamic> toJson() {
    final map = <String, dynamic>{};
    map['partner'] = partner;
    map['trackingCode'] = trackingCode;
    map['addressFull'] = addressFull;
    map['warehouse'] = warehouse;
    map['earliest_delivery_date'] = fromDeliveryDate;
    map['lastest_delivery_date'] = toDeliveryDate;
    return map;
  }

  String getEstimatedDeliveryDate() {
    String fromDate = DateTimeUtil.convertDate(
      fromDeliveryDate,
      fromFormat: DateTimeFormat.yyyy_MM_ddTHH_mm_ssSS,
      toFormat: DateTimeFormat.dd_MM,
    );
    String toDate = DateTimeUtil.convertDate(
      toDeliveryDate,
      fromFormat: DateTimeFormat.yyyy_MM_ddTHH_mm_ssSS,
      toFormat: DateTimeFormat.dd_MM,
    );
    //
    if (fromDate.isEmpty && toDate.isEmpty) {
      return "";
    }
    if (fromDate == toDate) {
      return "Ngày $fromDate";
    }
    return "Từ $fromDate đến $toDate";
  }
}
