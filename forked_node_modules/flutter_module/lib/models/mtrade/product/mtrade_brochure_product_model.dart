
import 'package:pdf/widgets.dart';

class MTradeBrochureProductModel {
  MTradeBrochureProductModel({
    this.id,
    this.productCode,
    this.name,
    this.brandName,
    this.brandLogo,
    this.price,
    this.medium,
    this.groupName,
    this.groupID,
    this.groupIcon,
    this.variations,
  });

  MTradeBrochureProductModel.fromJson(dynamic json) {
    id = json['ID'];
    productCode = json['productCode'];
    name = json['name'];
    brandName = json['brandName'];
    brandLogo = json['brandLogo'];
    price = json['price'];
    medium = json['medium'] != null ? json['medium'].cast<String>() : [];
    groupName = json['groupName'];
    groupID = json['groupID'];
    groupIcon = json['groupIcon'];
    if (json['variations'] != null) {
      variations = [];
      json['variations'].forEach((v) {
        variations?.add(Variation.fromJson(v));
      });
    }
  }

  String? id;
  String? productCode;
  String? name;
  String? brandName;
  String? brandLogo;
  String? price;
  List<String>? medium;
  String? groupName;
  String? groupID;
  String? groupIcon;
  ImageProvider? productImage;
  ImageProvider? brandLogoImage;
  List<Variation>? variations;

  Map<String, dynamic> toJson() {
    final map = <String, dynamic>{};
    map['ID'] = id;
    map['productCode'] = productCode;
    map['name'] = name;
    map['brandName'] = brandName;
    map['brandLogo'] = brandLogo;
    map['price'] = price;
    map['medium'] = medium;
    map['groupName'] = groupName;
    map['groupID'] = groupID;
    map['groupIcon'] = groupIcon;
    if (variations != null) {
      map['variations'] = variations?.map((v) => v.toJson()).toList();
    }
    return map;
  }
}

class Variation {
  Variation({
    this.name,
    this.value,
    this.option,
  });

  Variation.fromJson(dynamic json) {
    name = json['name'];
    value = json['value'];
    option = json['option'] != null ? json['option'].cast<String>() : [];
    if ((option?.length ?? 0) > 2) {
      option = option?.sublist(0, 2);
    }
  }

  String? name;
  String? value;
  List<String>? option;

  Map<String, dynamic> toJson() {
    final map = <String, dynamic>{};
    map['name'] = name;
    map['value'] = value;
    map['option'] = option;
    return map;
  }

  String display() {
    if (name == null) return '';
    return option?.join(", ") ?? '';
  }
}
