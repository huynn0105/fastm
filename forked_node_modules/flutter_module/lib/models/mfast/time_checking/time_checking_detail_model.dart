import 'package:flutter_module/common/utils/text_util.dart';
import 'package:flutter_module/models/mfast/report/report_model.dart';
import 'package:flutter_module/models/mfast/report/report_submit_response_model.dart';

class TimeCheckingReportDetailModel {
  double? totalIncome;
  double? estKpi;
  ReportDetailCategoryModel? reportDetail;
  bool? allowEdit;
  String? reportID;

  TimeCheckingReportDetailModel({
    this.totalIncome,
    this.estKpi,
    this.reportDetail,
    this.allowEdit,
    this.reportID,
  });

  TimeCheckingReportDetailModel.fromJson(Map<String, dynamic> json) {
    totalIncome = TextUtils.parseDouble(json["totalIncome"]);
    estKpi = TextUtils.parseDouble(json["estKpi"]);
    reportDetail = json["reportDetail"] == null ? null : ReportDetailCategoryModel.fromJson(json["reportDetail"]);
    allowEdit = json['allowEdit'];
    reportID = json['reportID'];

  }

  Map<String, dynamic> toJson() {
    final Map<String, dynamic> map = <String, dynamic>{};
    map["totalIncome"] = totalIncome;
    map["estKpi"] = estKpi;
    map["reportID"] = reportID;
    map["allowEdit"] = allowEdit;
    if (reportDetail != null) {
      map["reportDetail"] = reportDetail?.toJson();
    }
    return map;
  }

  ReportSubmitResponseModel getKPIResponse() {
    return ReportSubmitResponseModel(
      totalIncome: totalIncome ?? 0,
      estKpi: estKpi ?? 0,
    );
  }
}

class ReportDetailCategoryModel {
  ReportCategoryModel? activeReport;
  ReportCategoryModel? projectReport;

  ReportDetailCategoryModel({this.activeReport, this.projectReport});

  ReportDetailCategoryModel.fromJson(Map<String, dynamic> json) {
    activeReport = json["activeReport"] == null ? null : ReportCategoryModel.fromJson(json["activeReport"]);
    projectReport = json["projectReport"] == null ? null : ReportCategoryModel.fromJson(json["projectReport"]);
  }

  Map<String, dynamic> toJson() {
    final Map<String, dynamic> map = <String, dynamic>{};
    if (activeReport != null) {
      map["activeReport"] = activeReport?.toJson();
    }
    if (projectReport != null) {
      map["projectReport"] = projectReport?.toJson();
    }
    return map;
  }
}

class ReportCategoryModel {
  String? title;
  List<ReportModel>? data;

  ReportCategoryModel({
    this.title,
    this.data,
  });

  ReportCategoryModel.fromJson(Map<String, dynamic> json) {
    title = json["title"];
    data = json["data"] == null ? null : (json["data"] as List).map((e) => ReportModel.fromJson(e)).toList();
  }

  Map<String, dynamic> toJson() {
    final Map<String, dynamic> map = <String, dynamic>{};
    map["title"] = title;
    if (data != null) {
      map["data"] = data?.map((e) => e.toJson()).toList();
    }
    return map;
  }
}
