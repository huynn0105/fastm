import 'package:flutter_module/common/utils/datetime_util.dart';
import 'package:flutter_module/common/utils/text_util.dart';

/// dateSlug : "2023-07-04"
/// dateTime : 1688463318
/// deviceModel : "exynos990"
/// os : "android"
/// osVersion : "13"
/// lat : ""
/// lon : ""
/// formattedDateTime : "04/07/2023 16:35:18"
/// formattedMonth : "Tháng 07 năm 2023"

class LoginHistoryModel {
  LoginHistoryModel({
    this.dateSlug,
    this.dateTime,
    this.deviceModel,
    this.os,
    this.osVersion,
    this.lat,
    this.lon,
  });

  LoginHistoryModel.fromJson(dynamic json) {
    dateSlug = json['dateSlug'];
    dateTime = TextUtils.parseInt(json['dateTime']);
    deviceModel = json['deviceModel'];
    os = json['os'];
    osVersion = json['osVersion'];
    lat = json['lat'];
    lon = json['lon'];
  }

  String? dateSlug;
  int? dateTime;
  String? deviceModel;
  String? os;
  String? osVersion;
  String? lat;
  String? lon;

  Map<String, dynamic> toJson() {
    final map = <String, dynamic>{};
    map['dateSlug'] = dateSlug;
    map['dateTime'] = dateTime;
    map['deviceModel'] = deviceModel;
    map['os'] = os;
    map['osVersion'] = osVersion;
    map['lat'] = lat;
    map['lon'] = lon;
    return map;
  }

  String get formattedDateTime {
    if (dateTime == null) {
      return '';
    }
    final dt = DateTime.fromMillisecondsSinceEpoch(dateTime! * 1000, isUtc: true);
    return DateTimeUtil.getString(dt, format: DateTimeFormat.dd_MM_yyyy_HH_mm_ss);
  }

  String get formattedMonth {
    if (dateTime == null) {
      return '';
    }
    final dt = DateTime.fromMillisecondsSinceEpoch(dateTime! * 1000, isUtc: true);
    return 'Tháng ${dt.month} năm ${dt.year}';
  }
}
