import 'package:flutter_module/common/utils/text_util.dart';

class CoreAgent {
  String? label;
  DataItemsModel? items;
  String? html;
  CoreAgent({
    this.label,
    this.items,
    this.html,
  });

  factory CoreAgent.fromJson(Map<String, dynamic> map) {
    return CoreAgent(
      label: map['label'],
      html: map['html'],
      items: map['items'] != null ? DataItemsModel.fromJson(map['items']) : null,
    );
  }
}

class DataItemsModel {
  DataItemModel? kpiTarget;
  DataItemModel? kpiCurrent;
  DataItemModel? kpiCurrentPercent;
  DataItemModel? kpiExpectedPercent;
  DataItemModel? fixedSalary;
  DataItemModel? expectedReward;
  DataItemModel? totalIncome;
  DataItemsModel({
    required this.kpiTarget,
    required this.kpiCurrent,
    required this.kpiCurrentPercent,
    required this.kpiExpectedPercent,
    required this.fixedSalary,
    required this.expectedReward,
    required this.totalIncome,
  });

  DataItemsModel copyWith({
    DataItemModel? kpiTarget,
    DataItemModel? kpiCurrent,
    DataItemModel? kpiCurrentPercent,
    DataItemModel? kpiExpectedPercent,
    DataItemModel? fixedSalary,
    DataItemModel? expectedReward,
    DataItemModel? totalIncome,
  }) {
    return DataItemsModel(
      kpiTarget: kpiTarget ?? this.kpiTarget,
      kpiCurrent: kpiCurrent ?? this.kpiCurrent,
      kpiCurrentPercent: kpiCurrentPercent ?? this.kpiCurrentPercent,
      kpiExpectedPercent: kpiExpectedPercent ?? this.kpiExpectedPercent,
      fixedSalary: fixedSalary ?? this.fixedSalary,
      expectedReward: expectedReward ?? this.expectedReward,
      totalIncome: totalIncome ?? this.totalIncome,
    );
  }

  factory DataItemsModel.fromJson(Map<String, dynamic> map) {
    return DataItemsModel(
      kpiTarget: DataItemModel.fromJson(map['kpi_target']),
      kpiCurrent: DataItemModel.fromJson(map['kpi_current']),
      kpiCurrentPercent: DataItemModel.fromJson(map['kpi_current_percent']),
      kpiExpectedPercent: DataItemModel.fromJson(map['kpi_expected_percent']),
      fixedSalary: DataItemModel.fromJson(map['fixed_salary']),
      expectedReward: DataItemModel.fromJson(map['expected_reward']),
      totalIncome: DataItemModel.fromJson(map['total_income']),
    );
  }
}

class DataItemModel {
  String? label;
  dynamic value;
  double? percent;

  DataItemModel({
    this.label,
    this.value,
    this.percent,
  });

  DataItemModel.fromJson(dynamic json) {
    label = json["label"];
    value = json["value"];
    percent = TextUtils.parseDouble(json["percent"]) ?? 0 ;
  }
}
