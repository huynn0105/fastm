import 'package:calendar_date_picker2/calendar_date_picker2.dart';
import 'package:flutter_module/common/colors.dart';
import 'package:flutter_module/common/styles.dart';
import 'package:flutter/material.dart';

class CalendarUtils {
  CalendarUtils._();

  static Future<DateTime?> showCalendar({
    required BuildContext context,
    DateTime? initialValue,
    DateTime? lastDate,
  }) async {
    var config = CalendarDatePicker2WithActionButtonsConfig(
      lastDate: lastDate,
      calendarType: CalendarDatePicker2Type.single,
      selectedDayHighlightColor: UIColors.secondaryColor,
      todayTextStyle: UITextStyle.regular,
      dayTextStyle: UITextStyle.regular,
      selectedDayTextStyle: UITextStyle.regular.copyWith(
        color: UIColors.white,
      ),
      okButton: Text(
        'Chọn',
        style: UITextStyle.bold.copyWith(
          color: UIColors.secondaryColor,
        ),
      ),
      cancelButton: Text(
        'Hủy',
        style: UITextStyle.bold.copyWith(
          color: UIColors.secondaryColor,
        ),
      ),
      closeDialogOnCancelTapped: true,
    );

    var values = await showCalendarDatePicker2Dialog(
      context: context,
      config: config,
      dialogSize: const Size(325, 400),
      value: [initialValue ?? DateTime.now()],
      borderRadius: BorderRadius.circular(12),
      dialogBackgroundColor: UIColors.white,
    );
    return values?.isNotEmpty == true ? values?.first : null;
  }
}
