import 'package:flutter/material.dart';
import 'package:flutter_bloc/flutter_bloc.dart';
import 'package:flutter_module/features/authentication/auth/auth_cubit.dart';

class AuthStateWidget extends StatelessWidget {
  const AuthStateWidget({
    super.key,
    required this.onLoginChanged,
    required this.child,
  });

  final Function(bool) onLoginChanged;
  final Widget child;

  @override
  Widget build(BuildContext context) {
    return BlocListener<AuthCubit, AuthState>(
      listenWhen: (pre, cur) => pre.hasLoggedIn != cur.hasLoggedIn,
      listener: (context, state) => onLoginChanged(state.hasLoggedIn),
      child: Container(),
    );
  }
}
